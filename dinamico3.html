<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script>
</head>
<body>
    <label for="">Selecione seu Produto:</label>
    <select id="produto" multiple="multiple" style="width: 300px; ">
        <option value="p1">Produto 1</option>
        <option value="p2">Produto 2</option>
        <option value="p3">Produto 3</option>
        <option value="p4">Produto 4</option>
        <option value="p5">Produto 5</option>
        <option value="p6">Produto 6</option>
        <option value="p7">Produto 7 </option>
        <option value="p8">Produto 8 </option>
        <option value="p9">Produto 9</option>
        <option value="p10">Produto 10</option>
        <option value="p11">Produto 11</option>
        <option value="p12">Produto 12</option>
        <option value="p13">Produto 13</option>
        <option value="p14">Produto 14</option>
        <option value="p15">Produto 15</option>
    </select>
    <script>
        $(document).ready(function() {
            $('#produto').select2();

            // Array para armazenar os valores selecionados
            var selectedValues = [];

            // Adiciona um evento de change ao select
            $('#produto').on('change', function() {
                // Limpa o array para evitar duplicatas
                selectedValues = [];

                // Percorre todas as opções selecionadas e as adiciona ao array
                $('#produto option:selected').each(function() {
                    selectedValues.push($(this).val());
                });

                // Exibe os valores selecionados no console para demonstração
                console.log(selectedValues);
            });
        });
    </script>
</body>
</html>
